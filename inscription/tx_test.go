package inscription

import (
	"encoding/hex"
	"github.com/btcsuite/btcd/btcutil"
	"github.com/btcsuite/btcd/chaincfg"
	"github.com/btcsuite/btcd/txscript"
	"testing"
)

func TestParseCommitTx(t *testing.T) {
	commitTx, err := hex.DecodeString("0200000000010124ea56741e87687719b3886c9d766be978e77f06855cfb385dbc66d183b507cc0100000000fdffffff19942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191c942a00000000000022512027af6e56a1c3799ab31f13df71fcae417a050fd33cfe0b52de38ce92d9c6191cfec505000000000022512075bbf62e75b51e554f37149aa525f39e3028d1709df5af0227d699ee7b7b43dd01401f9342b1e6169c29640967b2d7ca23b78440d4248319580e4c5772ac2460d5a3d8d261d3fd0edaf8697550f91e881db75c4fd7d50ae5927c18d7bf7cd784525300000000")
	if err != nil {
		t.Fatal(err)
	}
	tx, err := btcutil.NewTxFromBytes(commitTx)
	if err != nil {
		t.Fatal(err)
	}
	t.Log(*tx)
}

func TestParseAddress(t *testing.T) {
	desAddress, err := btcutil.DecodeAddress("tb1qmzsf0567v7aj9wnnqm3ml2neqhu3leavt7jz8p", &chaincfg.TestNet3Params)
	if err != nil {
		return
	}
	desScript, err := txscript.PayToAddrScript(desAddress)
	if err != nil {
		return
	}
	t.Log(hex.EncodeToString(desScript))
}
